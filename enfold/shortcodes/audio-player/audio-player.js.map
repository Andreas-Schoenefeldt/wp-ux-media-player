{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/js-widget-hooks/src/dev/js-widget-hooks.js","webpack:///./src/assets/js/shortcodes/components/player.js","webpack:///./src/assets/js/shortcodes/audio-player.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","factory","debug","arguments","console","error","apply","widgetClass","widgetDataName","scriptClass","elemCallback","undefined","vars","registered","registeredFinalls","register","id","func","priority","this","setOptions","options","forEach","attr","init","async","root","lastYield","performance","now","wdg","k","priorityList","widgetArrays","allWidgets","that","length","sort","a","b","document","querySelector","querySelectorAll","elem","dataWidgetsAttributeName","names","dataset","successCount","split","push","classList","add","remove","widgetName","cList","classEl","initSpecific","window","scheduler","yield","Promise","resolve","setTimeout","force","contains","e","$","executeOnInitialized","player","callback","find","playerInitialized","jQuery","Widgets","expanded","el","more","moreTextEl","moreText","text","lessText","data","downloadText","shareText","itemCount","showCount","click","trackList","itemHeight","children","outerHeight","removeClass","css","maxHeight","addClass","each","item","labelEl","url","buttons","btn","btn2","preventDefault","stopPropagation","anchor","createElement","href","target","download","pop","append","onload","frames","players","iframe","playerId","src","Froogaloop","addEvent","currentId","parseInt","substr","log","index","api"],"mappings":"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","file":"audio-player.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","'use strict';\n\n/**\n *\tThe Widget Hooks, which allow to hook javascript execution in the following form:\n *\n *\t<div class=\"js-widget\" id=\"my-widget-root\" data-widgets=\"my-widget\">...</div>\n */\n(function (root, factory) {\n\n    // https://github.com/umdjs/umd/blob/master/returnExports.js\n    if (typeof module === 'object' && module.exports) {\n        // Node\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], factory);\n    } else {\n        // Browser globals (root is window)\n        root.Widgets = factory();\n    }\n}(this, function() {\n\n    // debug helper function\n    var debug = function () {\n        if (typeof(console) === 'object') {\n            arguments[0] = '[js-widget-hooks] ' + arguments[0];\n            console.error.apply(console, arguments);\n        }\n    };\n\n    // courtesy of https://web.dev/articles/optimize-long-tasks\n    const yieldToMain = function () {\n        // browser support for scheduler is not ideal\n        if (window.scheduler && window.scheduler.yield) {\n            return window.scheduler.yield();\n        }\n\n        // Fall back to yielding with setTimeout.\n        return new Promise(function (resolve) {\n            setTimeout(resolve, 0);\n        });\n    };\n\n    // this is the Widgets Object\n    return {\n\n        widgetClass: 'js-widget',\n        widgetDataName: 'widgets',\n        scriptClass: 'dyn-script',\n        elemCallback: undefined,\n\n        vars: {}, // place to put data\n\n        // registered widgets\n        registered: {},\n\n        // place for function calls after widget initialization\n        registeredFinalls: {},\n\n        // to register a new widget dynamically\n        // @param Number Priority\t\t\t- an optional priority in order to have control, which widget is executed first\n        register: function (id, func, priority) {\n            if (this.registered[id]) debug(\"[WARNING] Widget \" + id + \" was already registered: Override.\");\n            this.registered[id] = [func, priority];\n        },\n\n        setOptions: function (options) {\n            if (options) {\n                ['widgetClass', 'scriptClass', 'widgetDataName', 'elemCallback'].forEach(function (attr) {\n                    if (options[attr] !== undefined) {\n                        this[attr] = options[attr];\n                    }\n                }.bind(this));\n            }\n        },\n\n        /**\n         *\n         * @param {Node} [root=body] the node to initialize the widgets on\n         * @param {{}} [options]\n         */\n        init: async function (root, options) {\n            let lastYield = performance.now();\n            const yieldDeadline = 50; // deadline in milliseconds - apparently 50ms is best practice for a break\n\n            var priorityList = [],\n                widgetArrays = {},\n                wdg, k, allWidgets = [],\n                that = this\n            ;\n\n            // set the options\n            this.setOptions(options);\n\n            // sort the widgets\n            for (wdg in this.registered) {\n                priorityList[priorityList.length] = [wdg, this.registered[wdg][1]]; // 1 is the priority\n                widgetArrays[wdg] = [];\n            }\n\n            priorityList.sort(function (a, b) {\n                if (a[1] !== undefined && b[1] === undefined) return -1;\n                if (a[1] === undefined && b[1] !== undefined) return 1;\n                return a[1] < b[1] ? 1 : (a[1] > b[1]) ? -1 : 0;\n            });\n\n            if (!root) root = document.querySelector('body'); // fallback to complete DOM execution, if we get not a subnode\n            if (!root) {\n                debug(\"No root element could be found - is the DOM loaded already?\");\n            }\n\n            // get all the elements of the type widget\n            /** @type {Node} elem */\n            root.querySelectorAll('.' + that.widgetClass).forEach(function (elem) {\n                var dataWidgetsAttributeName = that.widgetDataName;\n                var names = elem.dataset[dataWidgetsAttributeName];\n                var successCount = 0;\n\n                if (names) {\n                    names.split(' ').forEach(function (name) {\n                        if (widgetArrays[name] !== undefined) {\n                            widgetArrays[name].push(elem);\n                            successCount++;\n                        } else {\n                            debug(\"No method for widget %o provided on %o\", name, elem);\n                            elem.classList.add(that.widgetClass + '-config-error');\n                        }\n                    });\n                } else {\n                    debug(\"missing data-\" + dataWidgetsAttributeName + \" attribute on %o\", elem);\n                    elem.classList.add(that.widgetClass + '-config-error');\n                }\n\n                // only errors, no need to check ever again this page load\n                if (!successCount) {\n                    elem.classList.remove(that.widgetClass);\n                }\n\n            });\n\n            //  and initialise them according to the priority\n            for (let widgetName in widgetArrays) {\n                const cList = widgetArrays[widgetName];\n\n                for (let classEl of cList) {\n                    allWidgets.push(classEl);\n\n                    // we async everything, to not block page rendering\n                    await that.initSpecific(classEl, widgetName);\n\n                    if (performance.now() - lastYield > yieldDeadline) {\n                        await yieldToMain();\n                        lastYield = performance.now();\n                    }\n                }\n\n                if (that.registeredFinalls[widgetName]) that.registeredFinalls[widgetName]();\n\n                delete widgetArrays[widgetName]; // remove the initialized array, in order to check, if something was not initialized\n            }\n\n            // delete the widget class after all executions have finished in case of multi widgets\n            for (k in allWidgets) {\n                allWidgets[k].classList.remove(this.widgetClass); // remove the class to prevent a second initialization\n            }\n        },\n\n        /**\n         *\n         * @param {Node} elem\n         * @param {string} widgetName\n         * @param {boolean} force - allows to initialize a widget also, if it was already initialized\n         * @returns {boolean}\n         */\n        initSpecific: async function (elem, widgetName, force) {\n            var that = this;\n            try {\n                if (elem.classList.contains(that.widgetClass) || force) { // just in case something has changed meanwhile...\n\n                    await that.registered[widgetName][0](that.elemCallback ? that.elemCallback(elem) : elem);\n                    elem.classList.add(that.widgetClass + '-initialized');\n\n                }\n            } catch (e) {\n                debug(\"Error during execution of widget %o at %o: %o\", widgetName, elem, e);\n                elem.classList.add(that.widgetClass + '-error');\n                return false;\n            }\n\n            return true;\n        }\n    };\n}));\n","import Widgets from 'js-widget-hooks';\n\nvar playerInitialized = function (player) {\n    return player.find('.wp-playlist-tracks').length > 0;\n};\n\nvar executeOnInitialized = function (player, callback) {\n    if (!playerInitialized(player)) {\n        window.setTimeout(executeOnInitialized.bind(null, player, callback), 50);\n    } else {\n        callback();\n    }\n};\n\n(function($) {\n\n    Widgets.register('sh-ux-media-player', function (elem) {\n        var expanded = false;\n        var el = $(elem);\n        var more = el.find('.trigger--more');\n        var moreTextEl = more.find('.target--text');\n        var moreText = moreTextEl.text();\n        var lessText = more.data('view_less');\n        var downloadText = el.data('download_text');\n        var shareText = el.data('share_text');\n        var itemCount = el.data('item_count');\n        var showCount = el.data('show_count');\n\n        more.click(function (e) {\n            // tracklist is initialized later on via js, so we reinit it here\n            var trackList = el.find('.wp-playlist-tracks');\n            var itemHeight = $(trackList.children()[0]).outerHeight();\n\n            if (expanded) {\n                el.removeClass('sh-player--expanded');\n                moreTextEl.text(moreText);\n                trackList.css({maxHeight: (showCount * itemHeight) + 'px'});\n            } else {\n                el.addClass('sh-player--expanded');\n                moreTextEl.text(lessText);\n                trackList.css({maxHeight: (itemCount * itemHeight + 1) + 'px'});\n            }\n\n            expanded = !expanded;\n        });\n\n        executeOnInitialized(el, function () {\n            el.find('.wp-playlist-item').each(function () {\n                var item = $(this);\n                var labelEl = item.find('a');\n                var url = labelEl.attr('href');\n                var buttons = $('<div class=\"sh-player__buttons\"></div>');\n                var btn = $('<span class=\"sh-player__icon-wrap\" data-tooltip=\"' + downloadText + '\"><button type=\"button\" class=\"sh-player__icon sh-player__download\">download</button></span>');\n                var btn2 = $('<span class=\"sh-player__icon-wrap\" data-tooltip=\"' + shareText + '\"><button type=\"button\" class=\"sh-player__icon sh-player__share\">download</button></span>');\n\n                var trackList = el.find('.wp-playlist-tracks');\n                var itemHeight = $(trackList.children()[0]).outerHeight();\n\n                // set the inital height\n                trackList.css({maxHeight: (showCount * itemHeight + 1) + 'px'});\n\n                btn.click(function (e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n\n                    // thx to https://stackoverflow.com/a/37673039/2776727 - this allows to directly download this for modern browsers\n                    var anchor = document.createElement('a');\n                    anchor.href = url;\n                    anchor.target = '_blank';\n                    anchor.download = url.split(/\\//gi).pop();\n                    anchor.click();\n                });\n\n                btn2.click(function (e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n\n                    var anchor = document.createElement('a');\n                    anchor.href = 'mailto:?subject=' + labelEl.text() +  '&body=' + url;\n                    anchor.click();\n                });\n\n                buttons.append(btn2);\n                buttons.append(btn);\n\n                item.append(buttons);\n            });\n        });\n\n    });\n\n})(jQuery);","import Widgets from 'js-widget-hooks';\nimport './components/player'\n\nwindow.onload = function () {\n    Widgets.init(null, {\n        widgetClass: 'js-sh-widget'\n    });\n\n    // vimeo stuff - froogaloop api\n    // https://stackoverflow.com/questions/6537415/vimeo-froogaloop-api-not-recognizing-an-event\n    window.setTimeout(function () {\n        var frames = document.querySelectorAll('iframe');\n        var players = [];\n\n        var id = 0;\n        for (var i = 0; i < frames.length; i++) {\n            var iframe = frames[i];\n            var playerId = 'id-' + id;\n            iframe.id = playerId;\n            iframe.src = iframe.src + '&player_id=' + playerId;\n\n            var player = Froogaloop(playerId);\n\n            player.addEvent('play', function() {\n                var currentId = parseInt(this.id.substr(3));\n\n                console.log('playing ' + currentId);\n\n                players.forEach(function (p, index) {\n                    if (currentId !== index) {\n                        p.api('pause');\n                    }\n                })\n            }.bind(iframe));\n            players.push(player);\n            id++;\n        }\n\n\n    }, 500);\n\n};\n"],"sourceRoot":""}