!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){"use strict";var r,n,o,s;s=function(){var t=function(){"object"==typeof console&&(arguments[0]="[js-widget-hooks] "+arguments[0],console.error.apply(console,arguments))};return{widgetClass:"widget",widgetDataName:"widgets",scriptClass:"dyn-script",vars:{},registered:{},registeredFinalls:{},register:function(e,i,r){this.registered[e]&&t("[WARNING] Widget "+e+" was already registered: Override."),this.registered[e]=[i,r]},setOptions:function(t){t&&["widgetClass","scriptClass","widgetDataName"].forEach(function(e){void 0!==t[e]&&(this[e]=t[e])}.bind(this))},init:function(e,i){var r,n,o=[],s={},a=[],d=this;for(r in this.setOptions(i),this.registered)o[o.length]=[r,this.registered[r][1]],s[r]=[];for(n in o.sort((function(t,e){return void 0!==t[1]&&void 0===e[1]?-1:void 0===t[1]&&void 0!==e[1]||t[1]<e[1]?1:t[1]>e[1]?-1:0})),e||(e=document.querySelector("body")),e||t("No root element could be found - is the DOM loaded already?"),e.querySelectorAll("."+d.widgetClass).forEach((function(e){var i=d.widgetDataName,r=e.dataset[i],n=0;r?r.split(" ").forEach((function(i){void 0!==s[i]?(s[i].push(e),n++):(t("No method for widget "+i+" provided on %o",e),e.classList.add(d.widgetClass+"-config-error"))})):(t("missing data-"+i+" attribute on %o",e),e.classList.add(d.widgetClass+"-config-error")),n||e.classList.remove(d.widgetClass)})),o.forEach((function(t){var e=t[0];s[e].forEach((function(t){a[a.length]=t,d.initSpecific(t,e)})),d.registeredFinalls[e]&&d.registeredFinalls[e](),delete s[e]})),a)a[n].classList.remove(this.widgetClass)},initSpecific:function(e,i,r){try{(e.classList.contains(this.widgetClass)||r)&&(this.registered[i][0](e),e.classList.add(this.widgetClass+"-initialized"))}catch(r){return t("Error during execution of widget %o at %o:\n%o",i,e,r),e.classList.add(this.widgetClass+"-error"),!1}return!0}}},t.exports?t.exports=s():(n=[],void 0===(o="function"==typeof(r=s)?r.apply(e,n):r)||(t.exports=o))},function(t,e,i){"use strict";i.r(e);var r,n=i(0),o=i.n(n);r=jQuery,o.a.register("sh-ux-media-player",(function(t){var e=!1,i=r(t),n=i.find(".trigger--more"),o=n.text(),s=n.data("view_less"),a=i.data("item_count");n.click((function(t){var d=i.find(".wp-playlist-tracks"),l=r(d.children()[0]).outerHeight();e?(n.text(o),d.css({maxHeight:2*l+"px"})):(n.text(s),d.css({maxHeight:a*l+"px"})),e=!e})),function t(e,i){!function(t){return t.find(".wp-playlist-tracks").length>0}(e)?window.setTimeout(t.bind(null,e,i)):i()}(i,(function(){i.find(".wp-playlist-item").each((function(){var t=r(this),e=t.find("a").attr("href"),n=r('<button type="button" class="sh-player__download" title="'+i.attr("download-text")+'">download</button>');n.click((function(t){t.preventDefault(),t.stopPropagation();var i=document.createElement("a");i.href=e,i.target="_blank",i.download=e.split(/\//gi).pop(),i.click()})),t.append(n)}))}))})),window.onload=function(){o.a.init(null,{widgetClass:"js-sh-widget"})}}]);
//# sourceMappingURL=audio-player.js.map