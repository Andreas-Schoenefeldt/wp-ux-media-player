!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t,i){"use strict";var n,r,o,a;a=function(){var e=function(){"object"==typeof console&&(arguments[0]="[js-widget-hooks] "+arguments[0],console.error.apply(console,arguments))};return{widgetClass:"js-widget",widgetDataName:"widgets",scriptClass:"dyn-script",elemCallback:void 0,vars:{},registered:{},registeredFinalls:{},register:function(t,i,n){this.registered[t]&&e("[WARNING] Widget "+t+" was already registered: Override."),this.registered[t]=[i,n]},setOptions:function(e){e&&["widgetClass","scriptClass","widgetDataName","elemCallback"].forEach(function(t){void 0!==e[t]&&(this[t]=e[t])}.bind(this))},init:async function(t,i){let n=performance.now();var r,o,a=[],s={},l=[],d=this;for(r in this.setOptions(i),this.registered)a[a.length]=[r,this.registered[r][1]],s[r]=[];a.sort((function(e,t){return void 0!==e[1]&&void 0===t[1]?-1:void 0===e[1]&&void 0!==t[1]||e[1]<t[1]?1:e[1]>t[1]?-1:0})),t||(t=document.querySelector("body")),t||e("No root element could be found - is the DOM loaded already?"),t.querySelectorAll("."+d.widgetClass).forEach((function(t){var i=d.widgetDataName,n=t.dataset[i],r=0;n?n.split(" ").forEach((function(i){void 0!==s[i]?(s[i].push(t),r++):(e("No method for widget %o provided on %o",i,t),t.classList.add(d.widgetClass+"-config-error"))})):(e("missing data-"+i+" attribute on %o",t),t.classList.add(d.widgetClass+"-config-error")),r||t.classList.remove(d.widgetClass)}));for(let e in s){const t=s[e];for(let i of t)l.push(i),await d.initSpecific(i,e),performance.now()-n>50&&(await(window.scheduler&&window.scheduler.yield?window.scheduler.yield():new Promise((function(e){setTimeout(e,0)}))),n=performance.now());d.registeredFinalls[e]&&d.registeredFinalls[e](),delete s[e]}for(o in l)l[o].classList.remove(this.widgetClass)},initSpecific:async function(t,i,n){try{(t.classList.contains(this.widgetClass)||n)&&(await this.registered[i][0](this.elemCallback?this.elemCallback(t):t),t.classList.add(this.widgetClass+"-initialized"))}catch(n){return e("Error during execution of widget %o at %o: %o",i,t,n),t.classList.add(this.widgetClass+"-error"),!1}return!0}}},e.exports?e.exports=a():(r=[],void 0===(o="function"==typeof(n=a)?n.apply(t,r):n)||(e.exports=o))},function(e,t,i){"use strict";i.r(t);var n,r=i(0),o=i.n(r),a=function(e,t){!function(e){return e.find(".wp-playlist-tracks").length>0}(e)?window.setTimeout(a.bind(null,e,t),50):t()};n=jQuery,o.a.register("sh-ux-media-player",(function(e){var t=!1,i=n(e),r=i.find(".trigger--more"),o=r.find(".target--text"),s=o.text(),l=r.data("view_less"),d=i.data("download_text"),c=i.data("share_text"),u=i.data("item_count"),p=i.data("show_count");r.click((function(e){var r=i.find(".wp-playlist-tracks"),a=n(r.children()[0]).outerHeight();t?(i.removeClass("sh-player--expanded"),o.text(s),r.css({maxHeight:p*a+"px"})):(i.addClass("sh-player--expanded"),o.text(l),r.css({maxHeight:u*a+1+"px"})),t=!t})),a(i,(function(){i.find(".wp-playlist-item").each((function(){var e=n(this),t=e.find("a"),r=t.attr("href"),o=n('<div class="sh-player__buttons"></div>'),a=n('<span class="sh-player__icon-wrap" data-tooltip="'+d+'"><button type="button" class="sh-player__icon sh-player__download">download</button></span>'),s=n('<span class="sh-player__icon-wrap" data-tooltip="'+c+'"><button type="button" class="sh-player__icon sh-player__share">download</button></span>'),l=i.find(".wp-playlist-tracks"),u=n(l.children()[0]).outerHeight();l.css({maxHeight:p*u+1+"px"}),a.click((function(e){e.preventDefault(),e.stopPropagation();var t=document.createElement("a");t.href=r,t.target="_blank",t.download=r.split(/\//gi).pop(),t.click()})),s.click((function(e){e.preventDefault(),e.stopPropagation();var i=document.createElement("a");i.href="mailto:?subject="+t.text()+"&body="+r,i.click()})),o.append(s),o.append(a),e.append(o)}))}))})),window.onload=function(){o.a.init(null,{widgetClass:"js-sh-widget"}),window.setTimeout((function(){for(var e=document.querySelectorAll("iframe"),t=[],i=0,n=0;n<e.length;n++){var r=e[n],o="id-"+i;r.id=o,r.src=r.src+"&player_id="+o;var a=Froogaloop(o);a.addEvent("play",function(){var e=parseInt(this.id.substr(3));console.log("playing "+e),t.forEach((function(t,i){e!==i&&t.api("pause")}))}.bind(r)),t.push(a),i++}}),500)}}]);
//# sourceMappingURL=audio-player.js.map